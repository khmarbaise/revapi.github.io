
<!DOCTYPE html>
<!--
 Generated by Apache Maven Doxia at 2017-04-25
 Rendered using Msb3 Maven Skin 0.1.1 (http://tunguski.github.io/msb3-maven-skin)
-->
<html  xml:lang="en" lang="en">

	<head>
		<meta charset="UTF-8" />
		<title>Revapi Java Extension - Java Extension</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="description" content="" />
		<meta http-equiv="content-language" content="en" />

		<link href="http://bootswatch.com/cosmo/bootstrap.min.css" rel="stylesheet" />
		<link href="./css/bootswatch.css" rel="stylesheet" />
		<link href="./css/msb3-skin.css" rel="stylesheet" />

		<link href="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.0.0/styles/default.min.css" rel="stylesheet" />

		<link href="./css/lightbox.css" rel="stylesheet" />

		<link href="./css/site.css" rel="stylesheet" />

		<!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
		<!--[if lt IE 9]>
			<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->


		
<script src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>(adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-3133590320590126",
          enable_page_level_ads: true
        });</script>
<script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-57095904-1', 'auto');
        ga('send', 'pageview');</script>
<link rel="alternate" href="https://revapi.org/news.atom" type="application/rss+xml" title="Revapi News"/>
	</head>

	<body class="page-index project-revapi-java" data-spy="scroll" data-offset="60" data-target="#toc-scroll-target">

		<header class="navbar navbar-default navbar-fixed-top">
			<div class="container">
				<div class="navbar-header">
					<a class="navbar-toggle collapsed" data-toggle="collapse" data-target="#top-nav-collapse">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</a>
					<a class="navbar-brand" href="../..">Revapi</a>
				</div>
					<div class="collapse navbar-collapse" id="top-nav-collapse">
						<ul class="nav navbar-nav navbar-right">
							<li ><a href="https://diff.revapi.org" title="Online Check" class="externalLink">Online Check</a></li>
							<li ><a href="../../news.html" title="News">News</a></li>
							<li ><a href="../../getting-started.html" title="Getting Started">Getting Started</a></li>
							<li ><a href="../../downloads.html" title="Downloads">Downloads</a></li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Basic Info <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="../../architecture.html" title="Architecture">Architecture</a></li>
									<li ><a href="../../building.html" title="Building">Building</a></li>
									<li ><a href="../../extensions.html" title="Extensions">Extensions</a></li>
								</ul>
							</li>
							<li class="dropdown active">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Sub Projects <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="../revapi/index.html" title="Revapi API">Revapi API</a></li>
									<li ><a href="../revapi-ant-task/index.html" title="Ant Task">Ant Task</a></li>
									<li ><a href="../revapi-basic-features/index.html" title="Basic Features">Basic Features</a></li>
									<li class="active"><a href="" title="Java Extension">Java Extension</a></li>
									<li ><a href="../revapi-java-spi/index.html" title="Java Extension SPI">Java Extension SPI</a></li>
									<li ><a href="../revapi-reporter-text/index.html" title="Text Report Extension">Text Report Extension</a></li>
									<li ><a href="../revapi-maven-plugin/index.html" title="Maven Plugin">Maven Plugin</a></li>
								</ul>
							</li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Project Details <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="differences.html" title="Detected API differences">Detected API differences</a></li>
									<li ><a href="enhance-java-checks.html" title="Extending Java API Checks">Extending Java API Checks</a></li>
									<li ><a href="extensions/java.html" title="Java Extension Configuration">Java Extension Configuration</a></li>
									<li ><a href="extensions/annotated-elem-filter.html" title="Annotated Element Filter Extension Configuration">Annotated Element Filter Extension Configuration</a></li>
									<li ><a href="extensions/class-filter.html" title="Class Filter Extension">Class Filter Extension</a></li>
									<li ><a href="extensions/package-filter.html" title="Package Filter Extension">Package Filter Extension</a></li>
								</ul>
							</li>
						</ul>
					</div><!--/.nav-collapse -->
			</div>
		</header>

	<div class="container">

	<!-- Masthead
	================================================== -->

	<header>
	<div class="jumbotron">
		<div class="row">
			<div class="col-md-12">
				<div class="pull-left">
					<a href="https://revapi.org/modules/revapi-java" id="bannerLeft"><h1>Revapi Java Extension</h1></a>
					<p class="lead">Revapi extension to check API of java classes in jar archives.</p>
				</div>
				<div class="pull-right">
				</div>
			</div>
		</div>
	</div>
	</header>

	<div class="main-body">
	<div class="row">
		<div class="col-md-8">
			<div class="body-content">
<div class="sect1"> 
 <div class="page-header">
  <h2 id="a_java_extension">Java Extension</h2>
 </div> 
 <div class="sectionbody"> 
  <div class="paragraph"> 
   <p>The Java extension somewhat obviously provides API checking capability for Java libraries. It contains a large number of checks that check different aspects of changes in the API, but it, too, is extensible. That is useful in cases where Java methods are annotated using annotations like JPA or JAXB. One can imagine new checks on methods and fields annotated by those annotations to perform additional analysis for DB schema changes or XML serialization changes.</p> 
  </div> 
  <div class="sect2"> 
   <h3 id="a_detected_differences">Detected differences</h3> 
   <div class="paragraph"> 
    <p>The Revapi java extension performs a thorough class and method signature analysis and detects quite a large number of (potential) problems and changes of the code in the two versions of the API.</p> 
   </div> 
   <div class="admonitionblock note"> 
    <table> 
     <tbody> 
      <tr> 
       <td class="icon"> 
        <div class="title">
          Note 
        </div> </td> 
       <td class="content"> There are over <strong>80</strong> kinds of detected changes (of which some don’t represent an actual problem with the API but merely a compatible change (a change nevertheless)). </td> 
      </tr> 
     </tbody> 
    </table> 
   </div> 
   <div class="paragraph"> 
    <p>You can review all the detected differences <a href="differences.html">here</a>, but as a sneak peak consider the following detected changes:</p> 
   </div> 
   <div class="ulist"> 
    <ul> 
     <li> <p><em>checked exception added/removed to/from method signature</em> - both of these are source incompatible but binary compatible changes,</p> </li> 
     <li> <p><em>formal type parameter added to class/method signature</em> - this is again source incompatible but binary compatible,</p> </li> 
     <li> <p><em>non-final method replaced by a final method in superclass</em> - huh, binary compatible, source potentially incompatible, potentially producing <code>VerifyError</code> at linkage time. What is this actually? V1 of the library contained a class <code>C</code> with method <code>m()</code>. Class <code>C</code> inherited from class <code>B</code>. V2 changed this such that <code>C</code> still inherits from <code>B</code> but method <code>m()</code> is now final and declared in <code>B</code>. This change is OK <strong>unless</strong> client code inherits from <code>C</code> and overrides the method in question.</p> </li> 
     <li> <p><em>serialVersionUid unchanged</em> - reported when there’s been a change in the class that would change the automatically generated serialization version, but the manually assigned <code>serialVersionUid</code> field remained with the same value in the new version of the library.</p> </li> 
     <li> <p><em>non-public part of API</em> - a class that is non-public was detected to be reachable from the public API. I.e. there exists a non-public type that is used in a public capacity - as a return type or a parameter of an accessible method - this is checked recursively. E.g. in the example below, the <code>Internal</code> class is flagged:</p> </li> 
    </ul> 
   </div> 
   <div class="listingblock"> 
    <div class="content"> 
     <pre class="highlight"><code class="language-java" data-lang="java">//------------------------ API.jar

public class API {
  public Model getModel() {
    return null;
  }
}

//------------------------ Dependency.jar

public class Model {
  protected Internal getState() {
    return null;
  }
}

/*package private*/ class Internal {
}</code></pre> 
    </div> 
   </div> 
   <div class="paragraph"> 
    <p>This is because the api class <code>API</code> returns the <code>Model</code> class from its public method and therefore makes the <code>Model</code> class formally part of the API even though it comes from a dependency. The <code>Model</code> class then is non-final and returns an <code>Internal</code> instance from its method. Thus, it is conceivable that a user of the API.jar might want to extend and use the <code>Model</code> class at which point he’d be unable to use the correct type of the <code>getState()</code> result.</p> 
   </div> 
  </div> 
  <div class="sect2"> 
   <h3 id="a_spi">SPI</h3> 
   <div class="paragraph"> 
    <p>The Java extension can be augmented through its small <a href="../revapi-java-spi/index.html">SPI</a> that declares a <a href="../revapi-java-spi/apidocs/org/revapi/java/spi/Check.html">hook interface</a> into the java checking process that represents the Revapi’s API elements as Java’s own <a href="http://docs.oracle.com/javase/7/docs/api/javax/lang/model/package-summary.html">model elements</a>. The checking framework then can use the Java plaform’s own rich functionality for examining the classes in the checked libraries (note, that this API is NOT the reflection API, because it actually doesn’t load the library classes into Java runtime).</p> 
   </div> 
   <div class="paragraph"> 
    <p>You can walk through the <a href="enhance-java-checks.html">example Java check</a> to see how to extend the Java checks.</p> 
   </div> 
  </div> 
 </div> 
</div>
			</div>
		</div>
		<div class="col-md-4">
			<div id="toc-sidebar">
				<div class="well">
					<ul class="nav nav-list">
						<li class="nav-header">Table of Contents</li>
		<li class="dropdown"><a href="#a_java_extension" title="Java Extension">Java Extension <b class="caret"></b></a>
			<ul class="nav nav-list">
		<li><a href="#a_detected_differences" title="Detected differences">Detected differences</a>
		<li><a href="#a_spi" title="SPI">SPI</a>
			</ul>
		</li>
					</ul>
				</div>
			</div>
		</div>
	</div>
	</div>

	</div><!-- /container -->

	<!-- Footer
	================================================== -->
	<footer class="well">
		<div class="container">
			<div class="row">
				<div class="col-md-3 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Basic Info</li>
						<li >
							<a href="../../architecture.html" title="Architecture">Architecture</a>
						</li>
						<li >
							<a href="../../building.html" title="Building">Building</a>
						</li>
						<li >
							<a href="../../extensions.html" title="Extensions">Extensions</a>
						</li>
						<li class="nav-header">Sub Projects</li>
						<li >
							<a href="../revapi/index.html" title="Revapi API">Revapi API</a>
						</li>
						<li >
							<a href="../revapi-ant-task/index.html" title="Ant Task">Ant Task</a>
						</li>
						<li >
							<a href="../revapi-basic-features/index.html" title="Basic Features">Basic Features</a>
						</li>
						<li class="active">
							<a href="#" title="Java Extension">Java Extension</a>
						</li>
						<li >
							<a href="../revapi-java-spi/index.html" title="Java Extension SPI">Java Extension SPI</a>
						</li>
						<li >
							<a href="../revapi-reporter-text/index.html" title="Text Report Extension">Text Report Extension</a>
						</li>
						<li >
							<a href="../revapi-maven-plugin/index.html" title="Maven Plugin">Maven Plugin</a>
						</li>
					</ul>
				</div>
				<div class="col-md-3 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Project Details</li>
						<li >
							<a href="differences.html" title="Detected API differences">Detected API differences</a>
						</li>
						<li >
							<a href="enhance-java-checks.html" title="Extending Java API Checks">Extending Java API Checks</a>
						</li>
						<li >
							<a href="extensions/java.html" title="Java Extension Configuration">Java Extension Configuration</a>
						</li>
						<li >
							<a href="extensions/annotated-elem-filter.html" title="Annotated Element Filter Extension Configuration">Annotated Element Filter Extension Configuration</a>
						</li>
						<li >
							<a href="extensions/class-filter.html" title="Class Filter Extension">Class Filter Extension</a>
						</li>
						<li >
							<a href="extensions/package-filter.html" title="Package Filter Extension">Package Filter Extension</a>
						</li>
					</ul>
				</div>
				<div class="col-md-3 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Maven Documentation</li>
						<li >
							<a href="project-info.html" title="Project Information">Project Information <i class="glyphicon glyphicon-chevron-down"></i></a>
							<ul class="nav nav-list">
						<li class="active">
							<a href="#" title="About">About</a>
						</li>
						<li >
							<a href="license.html" title="Project License">Project License</a>
						</li>
						<li >
							<a href="mail-lists.html" title="Mailing Lists">Mailing Lists</a>
						</li>
						<li >
							<a href="issue-tracking.html" title="Issue Tracking">Issue Tracking</a>
						</li>
						<li >
							<a href="source-repository.html" title="Source Repository">Source Repository</a>
						</li>
						<li >
							<a href="team-list.html" title="Project Team">Project Team</a>
						</li>
						<li >
							<a href="integration.html" title="Continuous Integration">Continuous Integration</a>
						</li>
							</ul>
						</li>
						<li >
							<a href="project-reports.html" title="Project Reports">Project Reports <i class="glyphicon glyphicon-chevron-right"></i></a>
						</li>
					</ul>
				</div>
				<div class="col-md-3 bottom-description">
					<blockquote>Revapi Java Extension</blockquote>
					<blockquote class="version-date"><span class="projectVersion">Version: 0.14.0</span><br/><span class="publishDate">Last Published: 2017-04-25</span></blockquote>
				</div>
			</div>
		</div>
	</footer>

	<div class="container subfooter">
		<div class="row">
			<div class="col-md-12">
				<p class="pull-right"><a href="#">Back to top</a></p>
				<p class="copyright">Copyright &copy;2017 <a href="http://lukas.krejci.pw">Lukas Krejci</a>. All Rights Reserved.</p>
				<p><a href="http://github.com/tunguski/msb3-maven-skin" title="Msb3 Maven skin">Msb3 Maven skin</a> by <a href="http://matsuo.pl" target="_blank" title="Marek Romanowski">Marek Romanowski</a>.</p>
			</div>
		</div>
	</div>

	<!-- Le javascript
	================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>

	<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
	<script src="./js/lightbox.min.js"></script>
	<script src="./js/msb3-scroll.js"></script>
	<script src="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.0.0/highlight.min.js"></script>

	<script src="./js/msb3-skin.js"></script>

	</body>
</html>